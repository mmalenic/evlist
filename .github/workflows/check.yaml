name: check
on:
  push:
    branches:
      - main
  pull_request:

jobs:
  ci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - id: dependencies
        uses: mmalenic/evlist@main
      - run: >
          just check Debug
          -o build_testing=True
          -o run_clang_tidy=True
          -o clang_tidy_executable=clang-tidy-${{ steps.dependencies.outputs.clang-version }}
